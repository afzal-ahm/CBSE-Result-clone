<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBSE RESULT</title>
    <link rel="stylesheet" href="./node_modules/bootstrap-icons/font/bootstrap-icons.css">
</head>

<style>
  
    .main {
        margin-top: 5px;
        max-width: 1100px;
        margin: auto;
        background: #fff;
        /* padding: 30px 50px; */
        border-radius: 6px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        /* border: 1px solid red; */
    }

    .heading {
        margin-top: 1px;
        padding: 1px;
        text-align: center;
        background-color: wheat;
        font-size: 25px;
        font-weight: bold;
    }

    .details{
        margin-top: 20px;
    }

    .details .row {
        /* margin-top: 20px; */
        display: flex;
        justify-content: flex-start;
        margin: 5px 0;
        margin-left: 55px;
        font-size: 20px;
    }

    .details .label {
        width: 250px;
        font-weight: bold;
    }

    .details .value {
        flex: 1;
    }

    .table {
        margin-top: 30px;
    }

    .table2 {
        border-collapse: collapse;
        width: 90%;
        margin: 0 auto;
        text-align: center;
        font-size: 14px;
        border: 5px solid black;
    }

    th,td {
        border: 1px solid #000;
        padding: 8px;
    }

    th {
        background-color: cyan;
        color: black;
        font-weight: bold;
        font-size: 20px;
    }

    tr:nth-child(even) td {
        background-color: #f9f9f9;
    }

    .table2 tr:not(.result):nth-child(odd) td {
        background-color: #ffffff;
    }

    .additional {
        background-color: #d9d9d9;
        font-weight: bold;
        text-align: center;
        font-size: 20px;
    }

    .table2 td:first-child {
        font-weight: bold;
    }

    .result {
        background-color: cyan;
        font-size: 20px;
        font-weight: bold;
        text-align: left;
        /* margin-left: 50px; */
    }

    .end {
        margin-top: 20px;
        margin-bottom: 20px;
        margin-right: 80px;
        text-align: right;
    }

    button {
        background-color: gray;
        width: 100px;
        height: 40px;
        border-radius: 10px;
        font-size: 15px;
        font-weight: bold;
        color: white;
        margin-bottom: 20px;
    }

    @media print {
        .end {
            display: none;
        }
    }
</style>

<body>

    <div class="main">
        <header class="heading">
            <span><u>CENTRAL BOARD OF SECONDARY EDUCATION</u></span><br>
            <span><u>Secondary School Examination Results 2025</u></span>
        </header>

        <div class="details">
            <div class="row"><span class="label">Roll No. :</span><span class="value" >511351351</span></div>
            <div class="row"><span class="label">Candidate Name :</span><span class="value">Shawn Anderson</span></div>
            <div class="row"><span class="label">Mother's Name :</span><span class="value">Dazzy Anderson</span></div>
            <div class="row"><span class="label">Father's Name :</span><span class="value">Harry Potter</span></div>
            <div class="row"><span class="label">Date Of Birth :</span><span class="value">25-10-2000</span></div>
            <div class="row"><span class="label">School's Name :</span><span class="value">Blue Bells Public School,
                    Jhansi</span></div>
        </div>

        <div class="table">
            <table border="1" class="table2">
                <tr>
                    <th>Subject Name</th>
                    <th>Theory</th>
                    <th>Practical</th>
                    <th>Total</th>
                    <th>Positional Grade</th>
                </tr>

                <tr>
                    <td>English</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>A</td>
                </tr>

                <tr>
                    <td>Hindi</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>B</td>
                </tr>

                <tr>
                    <td>Mathematics</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>C</td>
                </tr>

                <tr>
                    <td>Science</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>B</td>
                </tr>

                <tr>
                    <td>Social Science</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>A</td>
                </tr>

                <tr class="additional">
                    <td colspan="6">ADDITIONAL SUBJECT</td>
                </tr>

                <tr>
                    <td>Punjabi</td>
                    <td>100</td>
                    <td>100</td>
                    <td>100</td>
                    <td>A</td>
                </tr>

                <tr class="result">
                    <td></td>
                    <td colspan="5">Result : Pass</td>
                </tr>

            </table>

            <div class="end">
                <button onclick="window.location.href='index.html'"> <i class="bi bi-house"></i> Home </button>
                <button onclick="window.print()">Print</button>

            </div>
        </div>
    </div>


    <div id="result"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const roll = params.get('roll');
    const school = params.get('school');
    const dob = params.get('dob');

    fetch(`/result?roll=${roll}&school=${encodeURIComponent(school)}&dob=${dob}`)
      .then(res => res.json())
      .then(data => {
        const div = document.getElementById('result');

        if (!data || !data.full_name) {
          div.innerHTML = "<h3>No record found!</h3>";
          return;
        }

        const choosingSubject = data.choosing_subject || "N/A";
        const choosingMarks = data.choosing_subject_marks || "N/A";
        const additionalSubject = data.additional_subject || "N/A";
        const additionalMarks = data.additional_subject_marks || "N/A";

        div.innerHTML = `
          <p><strong>Roll Number:</strong> ${data.roll_number}</p>
          <p><strong>Name:</strong> ${data.full_name}</p>
          <p><strong>Father's Name:</strong> ${data.father_name}</p>
          <p><strong>Mother's Name:</strong> ${data.mother_name}</p>
          <p><strong>Date of Birth:</strong> ${data.dob}</p>
          <p><strong>School Name:</strong> ${data.school_name}</p>
          <h3>Marks</h3>
          <p>English: ${data.english}</p>
          <p>Hindi: ${data.hindi}</p>
          <p>${choosingSubject}: ${choosingMarks}</p>
          <p>Science: ${data.science}</p>
          <p>Social Science: ${data.social_science}</p>
          <p>${additionalSubject}: ${additionalMarks}</p>
        `;
      });
  </script>


</body>

</html>